import requests

# Test health
response = requests.get("http://localhost:8000/health")
print("‚úÖ Server status:")
print(response.json())


import requests

audio_path = "/Volumes/lab37_catalog/ifstrolley/trolley/Thank you for bookin (1).wav"
image_path = "/Volumes/lab37_catalog/ifstrolley/trolley/new.png"

# Open and send files
with open(audio_path, "rb") as af, open(image_path, "rb") as imf:
    response = requests.post(
        "http://localhost:8000/generate",
        files={
            "audio_file": ("audio.wav", af),
            "image_file": ("image.png", imf)
        }
    )
    
    result = response.json()
    print("‚úÖ Response:")
    print(result)
    
    if result["status"] == "success":
        video_path = result["video_path"]
        file_id = video_path.split("result_")[1].replace(".mp4", "")
        print(f"\nüéâ Video generated!")
        print(f"Path: {video_path}")
        print(f"File ID: {file_id}")



import requests

# Use the file_id from Step 2
file_id = "abc123"  # Replace with actual ID from Step 2

response = requests.get(f"http://localhost:8000/download/{file_id}")

if response.status_code == 200:
    output_path = "/Volumes/lab37_catalog/ifstrolley/trolley/output.mp4"
    with open(output_path, "wb") as f:
        f.write(response.content)
    print(f"‚úÖ Downloaded to: {output_path}")
    print(f"Size: {len(response.content) / 1024 / 1024:.1f} MB")
else:
    print(f"‚ùå Error: {response.status_code}")
