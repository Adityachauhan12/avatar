# CELL 2: Install Ditto Dependencies (Simplified)
# ============

import os

# Change to repo directory
os.chdir("/tmp/ditto-build-8.6")

print("ðŸ”¥ Installing Ditto requirements...")
print("=" * 60)

# Install Ditto deps directly (skip PyTorch re-install)
print("\nðŸ“¦ Installing core Ditto dependencies...")
subprocess.check_call([
    sys.executable, "-m", "pip", "install", "-q",
    "numpy==1.26.4",
    "opencv-python-headless",
    "librosa",
    "imageio-ffmpeg",
    "einops",
    "omegaconf",
    "huggingface_hub",
    "mediapipe>=0.10.9",
    "onnxruntime-gpu==1.16.3",
    "polygraphy",
])

print("âœ… Core dependencies installed")

# List files to confirm we're in right directory
files = os.listdir(".")
print(f"\nðŸ“‚ Files in current directory ({len(files)} total):")
for f in sorted(files)[:10]:
    print(f"   {f}")

if os.path.exists("checkpoints"):
    print("   âœ… checkpoints/ directory exists")
if os.path.exists("scripts"):
    print("   âœ… scripts/ directory exists")
if os.path.exists("core"):
    print("   âœ… core/ directory exists")

print("\nâœ… CELL 2 COMPLETE!")
print("Next: Download ONNX models from HuggingFace...")
