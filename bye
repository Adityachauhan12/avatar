============================================================
ğŸ§ª TESTING THE DEPLOYED PYTORCH MODEL
============================================================
ğŸ”— Endpoint URL: https://adb-7012066134936526.6.azuredatabricks.net/serving-endpoints/ditto_pytorch_1/invocations
ğŸ•’ Timestamp: 2026-01-13 10:24:51

ğŸ” Checking endpoint status...
âœ… Endpoint found: ditto_pytorch_1
   State: NOT_UPDATING
   âš ï¸  WARNING: Endpoint is not READY. It's in state: NOT_UPDATING
   Please wait until it shows READY (green) in the UI
   You can check here: https://adb-7012066134936526.6.azuredatabricks.net/serving-endpoints
   Model: N/A
   Version: N/A

ğŸ“ Checking input files...
âœ… Audio: /Volumes/lab37_catalog/ifstrolley/trolley/Thank you for bookin (1).wav (1.07 MB)
âœ… Image: /Volumes/lab37_catalog/ifstrolley/trolley/new.png (1188.39 KB)

ğŸ”¤ Encoding files to Base64...
âœ… Audio encoded: 1467.4 KB (Base64)
âœ… Image encoded: 1584.5 KB (Base64)

ğŸ“¦ Preparing API request...
âœ… Payload ready
   Total size: 2.98 MB

============================================================
ğŸš€ SENDING REQUEST
============================================================

ğŸ“¡ Target: https://adb-7012066134936526.6.azuredatabricks.net/serving-endpoints/ditto_pytorch_1/invocations
â±ï¸  Starting: 10:24:52
âš ï¸  First request may take 2-3 minutes (cold start)...
â±ï¸  Completed: 10:24:56
ğŸ“¥ Status: 200

âœ… SUCCESS: Received 200 OK
ğŸ“Š Response keys: ['predictions']

âŒ MODEL ERROR: Inference failed (code: 1):
Traceback (most recent call last):

  File "/tmp/ditto-talkinghead-pytorch/inference.py", line 80, in <module>

    SDK = StreamSDK(cfg_pkl, data_root)

  File "/tmp/ditto-talkinghead-pytorch/stream_pipeline_offline.py", line 31, in __init__

    ] = parse_cfg(cfg_pkl, data_root, kwargs)

  File "/tmp/ditto-talkinghead-pytorch/core/atomic_components/cfg.py", line 19, in parse_cfg

    cfg = load_pkl(cfg_pkl)

  File "/tmp/ditto-talkinghead-pytorch/core/atomic_components/cfg.py", line 7, in load_pkl

    with open(pkl, "rb") as f:

FileNotFoundError: [Errno 2] No such file or directory: '/tmp/ditto-talkinghead-pytorch/checkpoints/ditto_cfg/v0.4_hubert_cfg_trt.pkl'

   Full error: {'status': 'error', 'message': 'Inference failed (code: 1):\nTraceback (most recent call last):\n\n  File "/tmp/ditto-talkinghead-pytorch/inference.py", line 80, in <module>\n\n    SDK = StreamSDK(cfg_pkl, data_root)\n\n  File "/tmp/ditto-talkinghead-pytorch/stream_pipeline_offline.py", line 31, in __init__\n\n    ] = parse_cfg(cfg_pkl, data_root, kwargs)\n\n  File "/tmp/ditto-talkinghead-pytorch/core/atomic_components/cfg.py", line 19, in parse_cfg\n\n    cfg = load_pkl(cfg_pkl)\n\n  File "/tmp/ditto-talkinghead-pytorch/core/atomic_components/cfg.py", line 7, in load_pkl\n\n    with open(pkl, "rb") as f:\n\nFileNotFoundError: [Errno 2] No such file or directory: \'/tmp/ditto-talkinghead-pytorch/checkpoints/ditto_cfg/v0.4_hubert_cfg_trt.pkl\'\n'}

============================================================
âœ… TEST COMPLETE
============================================================
