# CELL 4: Download ONNX Models from Correct Repo
# ============

from huggingface_hub import snapshot_download
import os

print("üì• Getting correct ONNX source models...")
print("=" * 60)

checkpoints_dir = "./checkpoints"

# Correct repo for ONNX models (based on Ditto repo structure)
print("\nüì¶ Downloading from digital-avatar/ditto-talkinghead (ONNX)...")
snapshot_download(
    repo_id="digital-avatar/ditto-talkinghead",
    local_dir=checkpoints_dir,
    allow_patterns=["*.onnx"],
    ignore_patterns=["*.trt*", "*.pkl"],  # Skip TRT engines and configs
)

# List ONNX files specifically
onnx_files = []
for root, dirs, files in os.walk(checkpoints_dir):
    for file in files:
        if file.endswith('.onnx'):
            onnx_files.append(os.path.join(root, file))

print(f"\n‚úÖ Found {len(onnx_files)} ONNX files:")
for onnx_file in onnx_files:
    print(f"   üìÑ {onnx_file}")

if len(onnx_files) == 0:
    print("\n‚ö†Ô∏è  No .onnx files found!")
    print("   Listing all files in checkpoints:")
    for root, dirs
