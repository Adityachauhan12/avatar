# CELL 6: Create Serving Endpoint (SIMPLEST - USE THIS)
from databricks.sdk import WorkspaceClient

w = WorkspaceClient()

print(f"üöÄ Creating endpoint: ditto-endpoint")

try:
    # Simple dict-based config (no enum issues)
    endpoint = w.serving_endpoints.create(
        name="ditto-endpoint",
        config={
            "served_entities": [
                {
                    "entity_name": "lab37_catalog.ifstrolley.ditto_talkinghead",
                    "entity_version": "1",
                    "workload_type": "GPU_SMALL",
                    "scale_to_zero_enabled": False
                }
            ]
        }
    )
    print(f"‚úÖ Endpoint created successfully!")
    print(f"   Name: {endpoint.name}")
    print(f"   State: {endpoint.state}")
    print(f"\n‚è≥ Wait 5-10 minutes for READY status")
    print(f"   Then run CELL 7 to check status")
    
except Exception as e:
    print(f"‚ùå Error: {e}")
    import traceback
    traceback.print_exc()
