import os, time

os.system("lsof -ti:8000 | xargs kill -9 2>/dev/null || true")
time.sleep(2)

import uvicorn
from threading import Thread

def run_server():
    uvicorn.run("__main__:app", host="0.0.0.0", port=8000, reload=False)

t = Thread(target=run_server, daemon=True)
t.start()
