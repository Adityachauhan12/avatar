import requests
import time

# Wait for server to start
time.sleep(2)

API_URL = "http://localhost:8000"

print("üß™ Testing API endpoints...")
print("\n1Ô∏è‚É£  Testing /health endpoint:")

try:
    response = requests.get(f"{API_URL}/health")
    print(f"   Status: {response.status_code}")
    print(f"   Response: {response.json()}")
except Exception as e:
    print(f"   ‚ùå Error: {e}")
    print(f"   Server might not be running yet. Make sure Cell 4 is executing!")

print("\n‚úÖ Health check passed!")
print("\n2Ô∏è‚É£  Ready to test /generate endpoint:")
print("   Use the code below to generate a video:\n")

code_example = """
import requests

files = {
    'audio': open('/Volumes/lab37_catalog/ifstrolley/trolley/Thank you for bookin (1).wav', 'rb'),
    'image': open('/Volumes/lab37_catalog/ifstrolley/trolley/new.png', 'rb'),
}
data = {'num_frames': 50, 'face_scale': 2.3}

response = requests.post('http://localhost:8000/generate', files=files, data=data)
result = response.json()

print(f"Task ID: {result['task_id']}")
print(f"Status: {result['status']}")
print(f"Inference time: {result['inference_time']}s")
print(f"Video path: {result['video_path']}")
"""

print(code_example)
