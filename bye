import uvicorn
import threading

print("\n" + "="*60)
print("ğŸš€ STARTING FASTAPI SERVER")
print("="*60)
print("\nğŸ“¡ Server will be available at:")
print("   ğŸŒ http://localhost:8000")
print("   ğŸ“– API Docs: http://localhost:8000/docs")
print("   ğŸ”§ Alternative Docs: http://localhost:8000/redoc")
print("\nâ¹ï¸  To stop the server, run: stop_server()")
print("="*60 + "\n")

# Run server in a background thread for Databricks
def run_server():
    uvicorn.run(app, host="0.0.0.0", port=8000, log_level="info")

server_thread = threading.Thread(target=run_server, daemon=True)
server_thread.start()

print("âœ… Server started in background thread!")
print("Wait a few seconds for it to fully initialize...")

import time
time.sleep(3)
print("âœ… Server is ready! You can now test the API.")
