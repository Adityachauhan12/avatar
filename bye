============================================================
ğŸ§ª TESTING THE DEPLOYED PYTORCH MODEL
============================================================
ğŸ”— Endpoint URL: https://https://adb-7012066134936526.6.azuredatabricks.net/serving-endpoints/ditto_pytorch_1/invocations/serving-endpoints/ditto_pytorch_v1/invocations
ğŸ•’ Timestamp: 2026-01-13 10:12:15
ğŸ“¦ Using PyTorch-only model (no TensorRT)

ğŸ“ Checking input files...
âœ… Audio file: /Volumes/lab37_catalog/ifstrolley/trolley/Thank you for bookin (1).wav
   Size: 1.07 MB
âœ… Image file: /Volumes/lab37_catalog/ifstrolley/trolley/new.png
   Size: 1188.39 KB

ğŸ”¤ Encoding files to Base64...
âœ… Audio encoded: 1467.4 KB (Base64)
âœ… Image encoded: 1584.5 KB (Base64)

ğŸ“¦ Preparing API request payload...
âœ… Payload ready
   Total size: 2.98 MB
   Headers: dict_keys(['Authorization', 'Content-Type'])

============================================================
ğŸš€ SENDING REQUEST TO SERVING ENDPOINT
============================================================

ğŸ“¡ Making POST request to: https://https://adb-7012066134936526.6.azuredatabricks.net/serving-endpoints/ditto_pytorch_1/invocations/serving-endpoints/ditto_pytorch_v1/invocations
â±ï¸  Starting at: 10:12:16
âš ï¸  First request may take 2-3 minutes (cold start)...

ğŸ”Œ ERROR: Connection failed
   Cannot connect to endpoint
   Check if endpoint is in READY state
   Check network connectivity

============================================================
ğŸ” DIAGNOSTIC INFORMATION
============================================================

ğŸ©º Running diagnostic checks...
âš ï¸  Diagnostic check failed: HTTPSConnectionPool(host='https', port=443): Max retries exceeded with url: //adb-7012066134936526.6.azuredatabricks.net/serving-endpoints/ditto_pytorch_1/invocations/api/2.0/serving-endpoints/ditto_pytorch_v1 (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f4f40574100>: Failed to establish a new connection: [Errno -2] Name or service not known'))

============================================================
ğŸ“‹ TROUBLESHOOTING GUIDE
============================================================
If you get errors:
1. âœ… Check endpoint is READY (green status)
2. âœ… Verify endpoint name is correct
3. âœ… Check token has 'serving-endpoints/invoke' permission
4. âœ… Try shorter audio file (5-10 seconds)
5. âœ… Check model logs in Serving â†’ Logs tab
6. âœ… Increase endpoint timeout to 600 seconds
============================================================

ğŸ¬ Test complete! Check results above.
